# üìú Horizons ‚Äî Contratos Oficiales (v2.6 ‚Üí v3.0)

> Este documento define los **contratos formales** que rigen Horizons (Admin + Frontend).
> Son **no negociables** y aplican desde v2.6 en producci√≥n.

---

## 1Ô∏è‚É£ Contrato de Identidad (Identity Contract)

* `hotel_id` (UUID) es la **clave primaria soberana**.
* `slug` es derivado, √∫nico y can√≥nico.
* Ning√∫n JOIN cr√≠tico se hace por nombre.

**Regla:**

> Si no hay `hotel_id`, no existe hotel.

---

## 2Ô∏è‚É£ Contrato de Habitaciones (Room Contract)

Campos obligatorios:

* `room_id`
* `hotel_id`
* `room_type` (normalizado)
* `capacity_adults`
* `capacity_children`

**Regla:**

> Un `room_type` debe existir antes de tarifas.

---

## 3Ô∏è‚É£ Contrato de Tarifas (Pricing Contract)

* Tarifas siempre ligadas a:

  * `room_id`
  * `season_id`
  * `year`

* Prohibido hardcoding de a√±os.

**Regla:**

> Una tarifa sin temporada es inv√°lida.

---

## 4Ô∏è‚É£ Contrato Multimedia

* Todo asset pertenece a un dominio:

  * hero_video
  * gallery
  * rooms
  * gastronomy
  * services

* Storage = Supabase

---

## 5Ô∏è‚É£ Contrato de Estados Comerciales

Estados permitidos:

* quotation
* pending_payment
* paid
* cancelled
* expired

Transiciones expl√≠citas.

---

## 6Ô∏è‚É£ Contrato Realtime

* Admin y Web **no cachean estado cr√≠tico**.
* Supabase Realtime es obligatorio.

---

**Estado:** Activo desde v2.6
**Extiende:** v3.0
