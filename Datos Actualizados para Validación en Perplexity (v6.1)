---

## üìä Datos Actualizados para Validaci√≥n en Perplexity (v6.1)

Usar esta secci√≥n para validar si la infraestructura **real** coincide con el dise√±o industrial del Molde de Hierro.

1. **URL del Proyecto Supabase**  
   - `https://oyihiyivdhfxpyiwnmqk.supabase.co`

2. **Motor de API (Componente Cr√≠tico)**  
   - El sistema debe operar con una instancia compilada de **Swagger Codegen v2.2.45** (o superior)  
     para la generaci√≥n de los clientes de reserva en `BookingsClient.ts`.  
   - Cualquier actualizaci√≥n de versi√≥n debe ser documentada expl√≠citamente en este README.

3. **Esquema de Tarifas**  
   - La tabla `public.rates` debe estar vinculada a `public.rooms` mediante la columna `room_id`.  
   - Debe contener, como m√≠nimo, las columnas:  
     - `base_price_adult`  
     - `base_price_child`

4. **Estructura de 10 Secciones (Front Web)**  
   El orden de renderizado es **innegociable**:

   1. Header  
   2. Hero (video)  
   3. Booking  
   4. About  
   5. Gastronom√≠a  
   6. Servicios  
   7. Habitaciones  
   8. Pol√≠ticas  
   9. Galer√≠a  
   10. Ubicaci√≥n  

5. **L√≥gica de Pago**  
   - El motor debe soportar bifurcaci√≥n de flujo hacia **PayPal**.  
   - Todos los registros de reservas deben iniciar en el estado:  
     - `pending_validation`

6. **F√≥rmula de C√°lculo de Importe**  
   - F√≥rmula oficial:  
     `d√≠as * ((adultos * tarifa_adulto) + (ni√±os * tarifa_ni√±o))`

---

## üèõÔ∏è Instrucci√≥n para Horizons (Refuerzo del Mandato)

Para evitar desviaciones en la implementaci√≥n del cliente de API, toda comunicaci√≥n t√©cnica con Horizons debe incluir esta instrucci√≥n:

> ‚ÄúHorizon, el ‚ÄòPegamento‚Äô t√©cnico debe usar la instancia compilada de **Swagger Codegen 2.2.45**.  
> Asegura que el mapeo JSONB de los objetos `guest_data` y `pricing` en el cliente de API sea 100%  
> compatible con esta versi√≥n para evitar errores de backtracking o malformaci√≥n de archivos  
> en el generador online.‚Äù

### üîç Importancia de este Componente

- **Seguridad Industrial:**  
  Aunque existen referencias a versiones posteriores con parches de seguridad (Regex ReDoS, etc.),  
  la versi√≥n **2.2.45** es la certificada en la infraestructura actual.  
  Ning√∫n cambio de versi√≥n es v√°lido sin actualizar primero este README.

- **Sistema Nervioso del Motor de Reservas:**  
  Este componente funciona como transmisor entre el **Hotel Booking Form** y la tabla  
  `public.quotations` en Supabase, transportando los objetos `guest_data` y `pricing` en formato JSONB.

**Veredicto del Arquitecto:**  
Al registrar aqu√≠ esta informaci√≥n, este README act√∫a como **Certificado de Verdad** y evita que Horizons declare integraciones basadas en versiones de software que no existen en la infraestructura real.
